<!-- templates/partials/top_questions.html -->
<aside class="lg:w-1/4 mt-6 lg:mt-0">
    <div class="bg-white rounded-xl shadow-sm p-6 lg:sticky lg:top-28">
        <h2 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-indigo-500" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M3 6a3 3 0 013-3h10a1 1 0 01.8 1.6L14.25 8l2.55 3.4A1 1 0 0116 13H6a1 1 0 00-1 1v3a1 1 0 11-2 0V6z" clip-rule="evenodd" />
            </svg>
            Топ вопросов
        </h2>

        <div class="space-y-4">
            {% for question in top_questions %}
                <div class="group py-3 border-t border-gray-100 pt-4 first:border-t-0 first:pt-0">
                    <a href="/question/{{ question.question_id }}" class="block">
                        <h3 class="font-medium text-gray-800 group-hover:text-indigo-600 transition line-clamp-1">{{ question.title }}</h3>
                        <p class="text-sm text-gray-500 mt-1 line-clamp-2">{{ question.content }}</p>
                        <div class="flex items-center mt-2 text-xs text-gray-400">
                            <span>Автор:</span>
                            {% if question.anonymous %}
                                <span class="ml-1 text-gray-500">Аноним</span>
                            {% else %}
                                <a href="/profile/{{ question.author_id }}" class="ml-1 text-indigo-500 hover:underline truncate max-w-[120px] sm:max-w-none">{{ question.author_id }}</a>
                            {% endif %}
                        </div>
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>
</aside>